"use strict";(()=>{var e={};e.id=567,e.ids=[567],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2802:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>y,patchFetch:()=>v,requestAsyncStorage:()=>p,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>f});var a={};r.r(a),r.d(a,{POST:()=>l});var n=r(5419),i=r(9108),u=r(9678),s=r(3491),d=r(3619),o=r(8070);async function l(e){let{emailId:t,firstName:r,lastName:a,mobileNumber:n}=await e.json();if(!n||!r||!a||!t)return o.Z.json({message:"invalidFields"});try{await (0,s.Z)();let e=await d.Z.find({emailId:t});if(console.log(e),e?.length>0)return await d.Z.updateOne({emailId:t},{$set:{firstName:r,lastName:a,mobileNumber:n}}),o.Z.json({message:"success"});return o.Z.json({message:"invalidEmail"})}catch{return o.Z.json({message:"soemthingWrong"})}}let m=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/editStudent/route",pathname:"/api/editStudent",filename:"route",bundlePath:"app/api/editStudent/route"},resolvedPagePath:"/workspaces/studentAPI/app/api/editStudent/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:c,serverHooks:g,headerHooks:h,staticGenerationBailout:f}=m,y="/api/editStudent/route";function v(){return(0,u.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:c})}},3491:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(1185);let n=async function(){await a.connect("mongodb+srv://afriddev01:17030143@cluster0.leq4lx6.mongodb.net/students?retryWrites=true&w=majority&appName=Cluster0").then(()=>{}).catch(e=>{console.log(e)})}},3619:(e,t,r)=>{r.d(t,{Z:()=>u});var a=r(1185),n=r.n(a);let i=new a.Schema({id:{type:String,required:!0,immutable:!0},image:{type:String,default:"",required:!1},firstName:{type:String,minLength:3,required:!0},lastName:{type:String,default:"-",required:!1},emailId:{type:String,immutable:!0,required:!0},attended:{type:Boolean,default:!0,required:!1},attendence:{type:Number,default:45,min:30,max:100,required:!1},mobileNumber:{type:Number,default:null,length:10}}),u=a.models.students||n().model("students",i)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,206],()=>r(2802));module.exports=a})();